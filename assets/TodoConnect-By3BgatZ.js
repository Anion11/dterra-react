import{c as h,r as s,j as o,t as p,i as T,f as m}from"./index-CFf4OsXn.js";import{T as j,a as x,b as F}from"./TodoFilters-DGjYq7fh.js";import{I as E}from"./api-CHeISoyX.js";const b=({todos:e,filters:t,fetchTodos:c,initFilters:l,toggleFilter:i})=>{const[f,u]=s.useState([]);s.useEffect(()=>{e.length||c()},[c,e.length]),s.useEffect(()=>{!e.length||Object.keys(t).length||l(e)},[e,t,l]),s.useEffect(()=>{if(e.length&&Object.keys(t).length){const r=e.filter(n=>Object.entries(t).every(([d,a])=>a.selected.length===0?!0:a.selected.includes(n[d])));u(r)}},[e,t]);const g=(r,n)=>{i({key:r,value:n})};return o.jsxs(E,{children:[o.jsx(j,{filters:t,onFilterChange:g}),o.jsx(x,{todos:f})]})},C=e=>({todos:F(e),filters:e.filters.filters}),y={fetchTodos:m,initFilters:T,toggleFilter:p},k=h(C,y)(b);export{k as default};
